<div class="tui-space_bottom-5">

    <form class="b-form"
          [formGroup]="dateRangeForm"
          (ngSubmit)="submit()"
          novalidate>

        <div class="tui-row tui-row_adaptive tui-space_bottom-5">

            <div class="tui-col_lg-4 tui-col_md-4 tui-col_sm-6 tui-col_s-6 tui-col_xs-12">

                <tui-input-date-range class="tui-space_bottom-5"
                                      tuiUnfinishedValidator="Finish filling the field"
                                      formControlName="dateRange"
                                      [min]="min"
                                      [max]="max">
                    Choose dates
                </tui-input-date-range>

            </div>

            <div class="tui-col_lg-4 tui-col_md-4 tui-col_sm-6 tui-col_s-6 tui-col_xs-12">

                <button tuiButton
                        type="submit"
                        class="tui-space_right-3 tui-space_bottom-3"
                        size="l"
                        [disabled]="dateRangeForm.invalid || isLoading"
                        [showLoader]="isLoading">
                    Submit
                </button>

            </div>

        </div>

        <div class="tui-row tui-row_adaptive tui-space_bottom-5">

            <div class="tui-col_lg-8 tui-col_md-8 tui-col_sm-8 tui-col_s-8 tui-col_xs-8">

                <tui-loader [showLoader]="isLoading"
                            [overlay]="true">

                    <tui-axes class="axes"
                              [verticalLines]="0"
                              [horizontalLines]="10"
                              [axisYLabels]="yAxisLabels">
                        <tui-line-chart *ngFor="let value of chartValues"
                                        class="chart"
                                        [x]="0"
                                        [y]="0"
                                        [width]="400"
                                        [height]="200"
                                        [dots]="false"
                                        [value]="value"></tui-line-chart>
                    </tui-axes>

                </tui-loader>

            </div>

            <div class="tui-col_lg-4 tui-col_md-4 tui-col_sm-4 tui-col_s-4 tui-col_xs-4">

                <tui-island *ngIf="average.systolic && average.diastolic" class="tui-space_bottom-5"
                            size="s">

                    <h3 class="pl-2 m-0">Average</h3>

                    <div class="d-flex">

                        <div class="text-center p-2">
                            <div class="mb-1">systole</div>
                            <h1 class="text-systole m-0">{{ average.systolic | number : '1.0-0'}}</h1>
                        </div>

                        <div class="text-center p-2">
                            <div class="mb-1">diastole</div>
                            <h1 class="text-diastole m-0">{{ average.diastolic | number : '1.0-0' }}</h1>
                        </div>

                        <div class="text-center p-2">
                            <div class="mb-1">pulse</div>
                            <h1 class="text-pulse m-0">{{ average.pulse | number : '1.0-0' }}</h1>
                        </div>

                    </div>

                </tui-island>

            </div>

        </div>

    </form>

</div>